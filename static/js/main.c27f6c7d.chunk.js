(this.webpackJsonpmemsym=this.webpackJsonpmemsym||[]).push([[0],{54:function(e){e.exports=JSON.parse('{"name":"memsym","version":"1.3.0","private":true,"homepage":"http://zak0zak0.github.io/memsym","dependencies":{"@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.1","@testing-library/user-event":"^12.2.2","bootstrap":"^4.5.3","react":"^17.0.1","react-bootstrap":"^1.4.0","react-dom":"^17.0.1","react-scripts":"4.0.3","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"npm run build && robocopy /S .\\\\build .\\\\"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},59:function(e,t,r){},60:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(17),i=r.n(c),s=(r(59),r(60),r(12)),o=r(1),l=a.a.createContext();function u(e){var t=e.memsym,r=e.children,a=Object(n.useState)(0),c=Object(s.a)(a,2)[1];return Object(o.jsx)(l.Provider,{value:{memsym:t,records:t.records,heapData:t.heapData,onUpdate:function(){c((function(e){return e>0?0:1}))}},children:r})}var j=r(7),h=r(9),b=r(15),d=r(16),O=r(81),f=r(79),v=r(52),p=r(72),x=r(8),m=r(21),y=r(48),g=function(){function e(t,r){Object(j.a)(this,e),this.type=t,this.value=r}return Object(h.a)(e,[{key:"toString",value:function(){return"".concat(this.type,":").concat(this.value)}}]),e}(),w={TYPE:"type",NAME:"name",EQUAL:"equal",NUMBER:"number",CHAR:"char",STRING:"string",BOOL:"bool"},k=/^\d$/,C=/^[_a-zA-Z]$/,N=/^[_a-zA-Z0-9]$/,E=/^\s$/,A=/^(int|char|bool|string)$/i,S=/^(true|false)$/i,T=w,B=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(e,n){var a;return Object(j.a)(this,r),(a=t.call(this,'Unexpected char "'.concat(e,'" at position #').concat(n))).name="LexerError",a}return r}(Object(y.a)(Error)),L=function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"parse",value:function(e){for(var t=0,r=[];t<e.length;){for(;t<e.length&&E.test(e[t]);)t++;if(t>=e.length)break;var n=e[t];if("="!==n)if("-"!==n)if(k.test(n)){var a=this.readNumber(e,t),c=Object(s.a)(a,2),i=c[0],o=c[1];r.push(new g(T.NUMBER,o)),t=i}else if(C.test(n)){var l=this.readName(e,t+1),u=Object(s.a)(l,2),j=u[0],h=n+u[1];A.test(h)?r.push(new g(T.TYPE,h)):S.test(h)?r.push(new g(T.BOOL,h)):r.push(new g(T.NAME,h)),t=j}else if("'"!==n)if('"'!==n);else{var b=this.readString(e,t+1),d=Object(s.a)(b,2),O=d[0],f=d[1];t=O,r.push(new g(T.STRING,f))}else{var v=this.readChar(e,t),p=Object(s.a)(v,2),x=p[0],m=p[1];t=x,r.push(new g(T.CHAR,m))}else{var y=e[++t];if(!k.test(y))throw new B(y,t);var w=this.readNumber(e,t),N=Object(s.a)(w,2),L=N[0],z=N[1];r.push(new g(T.NUMBER,-z)),t=L}else r.push(new g(T.EQUAL,n)),t++}return r}},{key:"readString",value:function(e,t){for(var r="";t<e.length&&'"'!==e[t];)r+=e[t],t++;if(t>=e.length||'"'!==e[t])throw new B(e[t],t);return[t+1,r]}},{key:"readChar",value:function(e,t){if(t+1>=e.length)throw new B(e[t],t);var r=e[t+1];if(t+2>=e.length)throw new B(r,t+1);if("'"!==e[t+2])throw new B(e[t+2],t+2);return[t+3,r]}},{key:"readName",value:function(e,t){for(var r="";t<e.length&&N.test(e[t]);)r+=e[t],t++;return[t,r]}},{key:"readNumber",value:function(e,t){for(var r="";t<e.length&&k.test(e[t]);)r+=e[t],t++;if(t<e.length&&N.test(e[t]))throw new B(e[t],t);return[t,+r]}}]),e}(),z=r(40),R="DeclarationNode",U=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(e,n,a){var c;return Object(j.a)(this,r),(c=t.call(this,R)).name=n,c.type=e,c.value=a,c}return r}((function e(t){Object(j.a)(this,e),this.nodeName=t}));U.nodeName=R;var I,H={NULL:0,INT:1,BOOL:2,CHAR:3,STRING:4};function P(e){var t=new ArrayBuffer(1),r=new Uint8Array(t);return r[0]=+e,r[0].toString(2).padStart(8,"0")}function D(e){var t=Object.keys(H).find((function(t){return t.toLowerCase()===e.toLowerCase()}));return H[t]}var M=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,"Unexpected token [".concat(e,"]"))).name="ParserError",n}return r}(Object(y.a)(Error)),F=w,G=(I={},Object(z.a)(I,H.INT,F.NUMBER),Object(z.a)(I,H.CHAR,F.CHAR),Object(z.a)(I,H.STRING,F.STRING),Object(z.a)(I,H.BOOL,F.BOOL),I),$=function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"parse",value:function(e){return(null===e||void 0===e?void 0:e.length)&&e[0].type===w.TYPE?this.parseDeclaration(e):null}},{key:"parseDeclaration",value:function(e){var t,r,n=e[0].value;if((null===(t=e[1])||void 0===t?void 0:t.type)!==w.NAME)throw new M(e[1]);var a=e[1].value;if((null===(r=e[2])||void 0===r?void 0:r.type)!==w.EQUAL)throw new M(e[2]);if(G[D(n)]!==e[3].type)throw new M(e[3]);var c=e[3].value;return new U(n,a,c)}}]),e}(),V=Object(m.a)("names"),Y=function(){function e(t,r){Object(j.a)(this,e),Object.defineProperty(this,V,{writable:!0,value:[]}),this.memsym=t,this.onUpdate=r,this.lexer=new L,this.parser=new $}return Object(h.a)(e,[{key:"run",value:function(e){var t=this,r=[];Object(x.a)(this,V)[V]=[];for(var n=0;n<e.length;n++){var a=e[n];try{var c=this.lexer.parse(a);if(!(null===c||void 0===c?void 0:c.length))continue;var i=this.parser.parse(c);r.push(i)}catch(o){throw new Error("Error at line ".concat(n+1,":\n ").concat(o))}}for(var s=0;s<r.length;s++)try{this.checkNode(r[s])}catch(o){throw new Error("Error at line ".concat(s+1,":\n ").concat(o))}r.forEach((function(e){t.handleNode(e)})),this.onUpdate()}},{key:"handleNode",value:function(e){if(e.nodeName===U.nodeName){var t=e.type,r=e.name,n=e.value;this.memsym.declare(D(t),r,n)}}},{key:"checkNode",value:function(e){if(e.nodeName===U.nodeName){var t=e.type,r=e.name,n=e.value;if(Object(x.a)(this,V)[V].find((function(e){return e===r}))||this.memsym.records.find((function(e){return e.label===r})))throw new Error("Name '".concat(r,"' is already declared"));if(D(t)===H.INT&&(+n<-128||+n>127))throw new Error("Value ".concat(n," is out of range [-128; 127]"));Object(x.a)(this,V)[V].push(r)}}}]),e}(),_=r(78),q=r(82);function J(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Declare a variable"}),Object(o.jsxs)("p",{children:["format: ",Object(o.jsx)("br",{}),Object(o.jsxs)("code",{children:["<TYPE> <NAME> = <VALUE>",Object(o.jsx)("br",{})]})]}),Object(o.jsxs)("p",{children:["examples: ",Object(o.jsx)("br",{}),Object(o.jsxs)("code",{children:["int a = 34",Object(o.jsx)("br",{}),'string b = "abcdef1"',Object(o.jsx)("br",{})]})]})]})}function Q(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Available types"}),Object(o.jsx)("p",{children:Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("b",{children:"int"})," - an integer number in range [-128; 127]"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("b",{children:"bool"})," - a boolean value ",Object(o.jsx)("b",{children:Object(o.jsx)("i",{children:"true"})})," or ",Object(o.jsx)("b",{children:Object(o.jsx)("i",{children:"false"})})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("b",{children:"char"})," - a single symbol in single quotes (like 'a')"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("b",{children:"string"}),' - a string in double quotes (like "abc")']})]})})]})}var Z=[Object(o.jsx)(J,{}),Object(o.jsx)(Q,{})];function K(e){var t=e.show,r=e.handleClose,a=Object(n.useState)(1),c=Object(s.a)(a,2),i=c[0],l=c[1];return Object(o.jsxs)(_.a,{show:t,onHide:r,children:[Object(o.jsx)(_.a.Header,{closeButton:!0,children:Object(o.jsx)(_.a.Title,{children:"Interpreter Help"})}),Object(o.jsx)(_.a.Body,{children:Z[i-1]}),Object(o.jsxs)(_.a.Footer,{className:"justify-content-between",children:[Object(o.jsx)(W,{active:i,onChange:function(e){return l(e)},amount:Z.length}),Object(o.jsx)(p.a,{size:"sm",variant:"secondary",onClick:r,children:"Close"})]})]})}function W(e){for(var t=e.active,r=e.onChange,n=e.amount,a=[],c=function(e){a.push(Object(o.jsx)(q.a.Item,{active:e===t,onClick:function(){return r(e)},children:e},e))},i=1;i<=n;i++)c(i);return Object(o.jsx)(q.a,{size:"sm",children:a})}function X(){var e=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];return{valid:r,message:o,setError:function(e){a(!e),l(e)}}}(),t=Object(n.useState)(""),r=Object(s.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),j=u[0],h=u[1],b=Object(n.useContext)(l),d=b.memsym,O=b.onUpdate,x=Object(n.useRef)(new Y(d,O));return Object(o.jsxs)(f.a,{children:[Object(o.jsxs)(v.a,{children:[Object(o.jsx)(f.a.Label,{children:"Input a script and click the Run button"}),Object(o.jsx)(f.a.Control,{size:"sm",as:"textarea",rows:5,isInvalid:!e.valid,value:a,onChange:function(e){c(e.target.value)}}),Object(o.jsx)(f.a.Control.Feedback,{type:"invalid",children:e.message})]}),Object(o.jsx)(p.a,{size:"sm",variant:"primary",type:"button",onClick:function(){var t=a.split("\n"),r=x.current;try{r.run(t),e.setError(null)}catch(n){e.setError(n.message)}},children:"Run"})," "," ",Object(o.jsx)(p.a,{size:"sm",variant:"link",type:"button",onClick:function(){return h(!0)},children:"Help"}),Object(o.jsx)(K,{show:j,handleClose:function(){return h(!1)}})]})}var ee=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(o.jsx)(O.a,{children:Object(o.jsxs)(O.a.Body,{children:[Object(o.jsx)(O.a.Title,{children:"Interpreter"}),Object(o.jsx)(X,{})]})})}}]),r}(a.a.Component),te=r(73),re=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(j.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderBody=function(t){var r=t.records;return Object(o.jsxs)(te.a,{bordered:!0,size:"sm",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"bin"}),Object(o.jsx)("th",{children:"value"}),Object(o.jsx)("th",{children:"label"}),Object(o.jsx)("th",{children:"type"})]})}),Object(o.jsx)("tbody",{children:r.map((function(t,r){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:r}),Object(o.jsx)("td",{children:e.renderBin(t.dataType,t.value)}),Object(o.jsx)("td",{children:t.value}),Object(o.jsx)("td",{children:t.label}),Object(o.jsx)("td",{children:e.renderType(t.dataType)})]},r)}))})]})},e.renderBin=function(e,t){return e===H.CHAR&&(t=t.charCodeAt(0)),e===H.BOOL&&(t="true"===t?1:0),P(t)},e.renderType=function(e){switch(+e){case H.INT:return"int";case H.BOOL:return"bool";case H.CHAR:return"char";case H.STRING:return"string";case H.NULL:default:return""}},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(o.jsx)(l.Consumer,{children:this.renderBody})}}]),r}(a.a.Component);function ne(){var e=Object(n.useContext)(l),t=e.memsym,r=e.onUpdate;return Object(o.jsx)(p.a,{variant:"outline-danger",onClick:function(){t.clear(),r()},children:"Clear memory"})}var ae=r(75),ce=r(80),ie=r(76),se=r(53),oe=function e(t,r,n){Object(j.a)(this,e),this.dataType=t,this.label=r,this.value=n},le=r(47),ue=Object(m.a)("records"),je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;Object(j.a)(this,e),Object.defineProperty(this,ue,{writable:!0,value:void 0}),this.size=t,this.initialize()}return Object(h.a)(e,[{key:"initialize",value:function(){for(var e=[],t=0;t<this.size;t++)e.push(new oe(H.NULL,null,0));Object(x.a)(this,ue)[ue]=e}},{key:"records",get:function(){return Object(le.a)(Object(x.a)(this,ue)[ue])}},{key:"clear",value:function(){this.initialize()}},{key:"push",value:function(e){for(var t=0,r=!1,n=Object(x.a)(this,ue)[ue];!r&&t<n.length;){if(n[t].dataType===H.NULL){r=!0;break}t++}r?n[t]=e:n.push(e)}}]),e}(),he=Object(m.a)("memory"),be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;Object(j.a)(this,e),Object.defineProperty(this,he,{writable:!0,value:void 0}),this.size=t,this.initialize()}return Object(h.a)(e,[{key:"initialize",value:function(){Object(x.a)(this,he)[he]=Array(this.size).fill(0)}},{key:"clear",value:function(){this.initialize()}},{key:"data",get:function(){return Object(le.a)(Object(x.a)(this,he)[he])}},{key:"read",value:function(e){var t=Object(x.a)(this,he)[he];if(e>=t.length)return"";if(0===t[e])return".";for(var r=[],n=0;n+e<t.length&&0!==t[n+e];)r[n]=t[n+e],n++;return r.join("")}},{key:"alloc",value:function(e){if("string"===typeof e){var t=e.length;if(!t)return-1;var r=Object(x.a)(this,he)[he],n=this.findFreeIndex(t);if(-1===n)return-1;for(var a=0;a<t;a++)r[a+n]=e[a];return n}alert("Unable to allocate non-string value")}},{key:"findFreeIndex",value:function(e){for(var t=0,r=Object(x.a)(this,he)[he];t<this.size;){var n=t;if(0===r[t]){for(;n<this.size&&n-t<e&&0===r[n];)n++;if(n===this.size)return-1;if(n-t<e||0!==r[n]){t=n+1;continue}return t>0?t+1:t}t++}}}]),e}(),de=Object(m.a)("stack"),Oe=Object(m.a)("heap"),fe=function(){function e(){Object(j.a)(this,e),Object.defineProperty(this,de,{writable:!0,value:void 0}),Object.defineProperty(this,Oe,{writable:!0,value:void 0}),Object(x.a)(this,de)[de]=new je,Object(x.a)(this,Oe)[Oe]=new be}return Object(h.a)(e,[{key:"clear",value:function(){Object(x.a)(this,de)[de].clear(),Object(x.a)(this,Oe)[Oe].clear()}},{key:"declare",value:function(e,t,r){if(+e===H.CHAR&&(r=r[0]),+e!==H.STRING||-1!==(r=Object(x.a)(this,Oe)[Oe].alloc(r))){var n=new oe(+e,t,r);Object(x.a)(this,de)[de].push(n)}else alert("failed to alloc value")}},{key:"records",get:function(){return Object(x.a)(this,de)[de].records}},{key:"heapData",get:function(){return Object(x.a)(this,Oe)[Oe].data}}]),e}(),ve=r(54),pe=r.p+"static/media/logo_memsym.482cc514.svg",xe=r(77),me=r(74),ye=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(j.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderBody=function(t){var r=t.heapData,n=Math.floor(r.length/8),a=e.to2DimArray(r,n,8),c=Array.from(Array(8).keys()).map((function(e){return e.toString(2).padStart(3,"0")}));return Object(o.jsxs)(te.a,{bordered:!0,size:"sm",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#/#"}),c.map((function(e){return Object(o.jsx)("th",{children:e},e)}))]})}),Object(o.jsx)("tbody",{children:a.map((function(t,r){return Object(o.jsx)("tr",{children:t.map((function(t,r){return e.renderCell(t,r)}))},r)}))})]})},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(o.jsx)(l.Consumer,{children:this.renderBody})}},{key:"renderCell",value:function(e,t){if(0===t)return Object(o.jsx)("td",{className:"bold",children:this.renderCellValue(e,t)},t);var r="string"===typeof e?"'".concat(e,"'"):e;return Object(o.jsx)(xe.a,{overlay:Object(o.jsx)(me.a,{children:r}),children:Object(o.jsx)("td",{children:this.renderCellValue(e,t)},t)})}},{key:"renderCellValue",value:function(e,t){return 0===t?e.toString(2).padStart(3,"0"):("string"===typeof e&&(e=e.charCodeAt(0)),e.toString(2).padStart(8,"0"))}},{key:"to2DimArray",value:function(e,t,r){for(var n=[],a=0;a<t;a++){var c=[];c.push(a);for(var i=0;i<r;i++){var s=e[a*r+i];c.push(s)}n.push(c)}return n}}]),r}(a.a.Component),ge=new fe;var we=function(){return Object(o.jsx)(u,{memsym:ge,children:Object(o.jsxs)(ae.a,{children:[Object(o.jsxs)(ce.a,{bg:"dark",variant:"dark",children:[Object(o.jsxs)(ce.a.Brand,{children:[Object(o.jsx)("img",{alt:"",src:pe,width:"30",height:"30",className:"d-inline-block align-top"})," "," MemSym"]}),Object(o.jsxs)(ce.a.Text,{children:["v",ve.version]})]}),Object(o.jsxs)(ie.a,{children:[Object(o.jsx)(se.a,{xs:"12",sm:"6",md:"4",lg:"3",children:Object(o.jsx)(ee,{})}),Object(o.jsx)(se.a,{xs:"12",sm:"12",md:"8",lg:"5",children:Object(o.jsx)(O.a,{children:Object(o.jsxs)(O.a.Body,{children:[Object(o.jsxs)(O.a.Title,{children:["Stack ",Object(o.jsx)(ne,{})]}),Object(o.jsx)(re,{})]})})})]}),Object(o.jsx)(ie.a,{children:Object(o.jsx)(se.a,{children:Object(o.jsx)(O.a,{children:Object(o.jsxs)(O.a.Body,{children:[Object(o.jsx)(O.a.Title,{children:"Heap"}),Object(o.jsx)(O.a.Text,{children:"hover over a cell to see the value"}),Object(o.jsx)(ye,{})]})})})})]})})},ke=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,83)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};r(66);i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(we,{})}),document.getElementById("root")),ke()}},[[67,1,2]]]);
//# sourceMappingURL=main.c27f6c7d.chunk.js.map