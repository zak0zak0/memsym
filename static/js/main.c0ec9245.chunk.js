(this["webpackJsonpmem-sim"]=this["webpackJsonpmem-sim"]||[]).push([[0],{59:function(e){e.exports=JSON.parse('{"name":"mem-sim","version":"1.2.0","private":true,"homepage":"http://zak0zak0.github.io/memsym","dependencies":{"@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.1","@testing-library/user-event":"^12.2.2","bootstrap":"^4.5.3","react":"^17.0.1","react-bootstrap":"^1.4.0","react-dom":"^17.0.1","react-scripts":"4.0.3","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"npm run build && robocopy /S .\\\\build .\\\\"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},64:function(e,t,r){},65:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(16),i=r.n(c),s=(r(64),r(65),r(8)),l=r(2),o=a.a.createContext();function j(e){var t=e.memsym,r=e.children,a=Object(n.useState)(0),c=Object(s.a)(a,2)[1];return Object(l.jsx)(o.Provider,{value:{memsym:t,records:t.records,heapData:t.heapData,onUpdate:function(){c((function(e){return e>0?0:1}))}},children:r})}var u=r(12),d=r(14),b=r(36),h=r(35),O=r(86),v=r(77),f=r(89),x=r(78),p=r(85),m=r(57),y=r(76),g={NULL:0,INT:1,BOOL:2,CHAR:3,STRING:4};function k(e){var t=new ArrayBuffer(1),r=new Uint8Array(t);return r[0]=+e,r[0].toString(2).padStart(8,"0")}function C(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],o=i[1];return{valid:r,message:l,setError:function(e){a(!e),o(e)}}}var w="[_a-zA-Z][_a-zA-Z0-9]*";var L=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(g.INT),i=Object(s.a)(c,2),j=i[0],u=i[1],d=Object(n.useState)(0),b=Object(s.a)(d,2),h=b[0],O=b[1],v=Object(n.useContext)(o),f=v.memsym,x=v.onUpdate,k=C(),L=C();return Object(l.jsxs)(p.a,{children:[Object(l.jsxs)(m.a,{children:[Object(l.jsx)(p.a.Label,{children:"Label"}),Object(l.jsx)(p.a.Control,{value:r,onChange:function(e){return a(e.target.value)},name:"name",type:"text",placeholder:"Label",isInvalid:!k.valid}),Object(l.jsx)(p.a.Control.Feedback,{type:"invalid",children:k.message})]}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)(p.a.Label,{children:"Type"}),Object(l.jsxs)(p.a.Control,{as:"select",name:"type",value:j,onChange:function(e){return u(e.target.value)},children:[Object(l.jsx)("option",{value:g.INT,children:"int"}),Object(l.jsx)("option",{value:g.CHAR,children:"char"}),Object(l.jsx)("option",{value:g.BOOL,children:"bool"}),Object(l.jsx)("option",{value:g.STRING,children:"string"})]})]}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)(p.a.Label,{children:"Value"}),+j===g.BOOL&&Object(l.jsxs)(p.a.Control,{as:"select",name:"value",value:h,onChange:function(e){return O(e.target.value)},children:[Object(l.jsx)("option",{value:"true",children:"true"}),Object(l.jsx)("option",{value:"false",children:"false"})]}),+j!==g.BOOL&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p.a.Control,{value:h,onChange:function(e){return O(e.target.value)},name:"value",type:"text",placeholder:"Value",isInvalid:!L.valid}),Object(l.jsx)(p.a.Control.Feedback,{type:"invalid",children:L.message})]})]}),Object(l.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){var e=h;+j===g.BOOL&&"true"!==h&&"false"!==h&&(e="true");var t=!0;if(r||(k.setError("Label is required"),t=!1),t&&function(e,t){return!!e.records.find((function(e){return e.label===t}))}(f,r)&&(k.setError("Label is already defined"),t=!1),t&&!r.match(new RegExp("^".concat(w,"$")))&&(k.setError("Label must start with '_' or letter (a-z, A-Z) and be following by '_' or letters (a-z, A-Z) or numbers (0-9)"),t=!1),t){k.setError("");var n=!0;0===e||e||(L.setError("Value is required"),n=!1),n&&+j===g.INT&&(!e.match(/^-?\d+$/)||e<-128||e>127)&&(L.setError("Value must be a number in range [-128; 127]"),n=!1),n&&+j===g.CHAR&&e.length>1&&(L.setError("Value must be only 1 character long"),n=!1),n&&(L.setError(""),f.declare(j,r,e),x())}},children:"Declare"})]})},S=Object.entries(g).filter((function(e){return Object(s.a)(e,2)[1]!==g.NULL})).map((function(e){var t=Object(s.a)(e,2),r=t[0];t[1];return r})).join("|"),T=new RegExp("^\\s*(".concat(S,")\\s+").concat(w,"\\s(.*)$"),"i"),A=function(){function e(t,r){Object(u.a)(this,e),this.memsym=t,this.onUpdate=r}return Object(d.a)(e,[{key:"run",value:function(e){for(var t=0;t<e.length;t++){var r=e[t];r.match(T)&&this.declare(r)}this.onUpdate()}},{key:"validate",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].match(T))return"Error at line ".concat(t+1,"!")}},{key:"declare",value:function(e){var t,r,n,a=this.skipSpaces(e,0),c=this.readToken(e,a),i=Object(s.a)(c,2);a=i[0],t=i[1],a=this.skipSpaces(e,a);var l=this.readToken(e,a),o=Object(s.a)(l,2);a=o[0],r=o[1],a=this.skipSpaces(e,a);var j=this.readValue(e,a),u=Object(s.a)(j,2);a=u[0],n=u[1];var d=Object.keys(g).find((function(e){return e.toLowerCase()===t.toLowerCase()}));this.memsym.declare(g[d],r,n)}},{key:"readToken",value:function(e,t){for(var r=t,n="";r<e.length&&!e[r].match(/\s/);)n+=e[r],r++;return[r,n]}},{key:"readValue",value:function(e,t){for(var r=t,n="";r<e.length;)n+=e[r],r++;return[r,n]}},{key:"skipSpaces",value:function(e,t){for(var r=t;r<e.length&&e[r].match(/\s/);)r++;return r}}]),e}(),I=r(84),B=r(88);function z(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h5",{children:"Declare a variable"}),Object(l.jsxs)("p",{children:["format: ",Object(l.jsx)("br",{}),Object(l.jsxs)("code",{children:["<TYPE> <NAME> <VALUE>",Object(l.jsx)("br",{})]})]}),Object(l.jsxs)("p",{children:["examples: ",Object(l.jsx)("br",{}),Object(l.jsxs)("code",{children:["int a 34",Object(l.jsx)("br",{}),"string b abcdef1",Object(l.jsx)("br",{})]})]})]})}var N=[Object(l.jsx)(z,{})];function E(e){var t=e.show,r=e.handleClose,a=Object(n.useState)(1),c=Object(s.a)(a,2),i=c[0],o=c[1];return Object(l.jsxs)(I.a,{show:t,onHide:r,children:[Object(l.jsx)(I.a.Header,{closeButton:!0,children:Object(l.jsx)(I.a.Title,{children:"Interpreter Help"})}),Object(l.jsx)(I.a.Body,{children:N[i-1]}),Object(l.jsxs)(I.a.Footer,{className:"justify-content-between",children:[Object(l.jsx)(F,{active:i,onChange:function(e){return o(e)},amount:N.length}),Object(l.jsx)(y.a,{variant:"secondary",onClick:r,children:"Close"})]})]})}function F(e){for(var t=e.active,r=e.onChange,n=e.amount,a=[],c=function(e){a.push(Object(l.jsx)(B.a.Item,{active:e===t,onClick:function(){return r(e)},children:e},e))},i=1;i<=n;i++)c(i);return Object(l.jsx)(B.a,{children:a})}function R(){var e=C(),t=Object(n.useState)(""),r=Object(s.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(!1),j=Object(s.a)(i,2),u=j[0],d=j[1],b=Object(n.useContext)(o),h=b.memsym,O=b.onUpdate,v=Object(n.useRef)(new A(h,O));return Object(l.jsxs)(p.a,{children:[Object(l.jsxs)(m.a,{children:[Object(l.jsx)(p.a.Label,{children:"Input a script and click the Run button"}),Object(l.jsx)(p.a.Control,{as:"textarea",rows:5,isInvalid:!e.valid,value:a,onChange:function(e){c(e.target.value)}}),Object(l.jsx)(p.a.Control.Feedback,{type:"invalid",children:e.message})]}),Object(l.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){var t=a.split("\n"),r=v.current.validate(t);e.setError(r),r||(h.clear(),v.current.run(t))},children:"Run"})," "," ",Object(l.jsx)(y.a,{variant:"link",size:"sm",type:"button",onClick:function(){return d(!0)},children:"Help"}),Object(l.jsx)(E,{show:u,handleClose:function(){return d(!1)}})]})}var U=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(l.jsxs)(O.a,{defaultActiveKey:"form",children:[Object(l.jsx)(v.a,{eventKey:"form",title:"Form",children:Object(l.jsx)(f.a,{children:this.renderForm()})}),Object(l.jsx)(v.a,{eventKey:"interpreter",title:Object(l.jsxs)("span",{children:["Interpreter ",Object(l.jsx)(x.a,{variant:"danger",children:"WIP"})]}),children:Object(l.jsx)(f.a,{children:this.renderInterpreter()})})]})}},{key:"renderForm",value:function(){return Object(l.jsxs)(f.a.Body,{children:[Object(l.jsx)(f.a.Title,{children:"Declare a variable"}),Object(l.jsx)(L,{})]})}},{key:"renderInterpreter",value:function(){return Object(l.jsxs)(f.a.Body,{children:[Object(l.jsx)(f.a.Title,{children:"Interpreter"}),Object(l.jsx)(R,{})]})}}]),r}(a.a.Component),H=r(79),V=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderBody=function(t){var r=t.records;return Object(l.jsxs)(H.a,{bordered:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#"}),Object(l.jsx)("th",{children:"bin"}),Object(l.jsx)("th",{children:"value"}),Object(l.jsx)("th",{children:"label"}),Object(l.jsx)("th",{children:"type"})]})}),Object(l.jsx)("tbody",{children:r.map((function(t,r){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r}),Object(l.jsx)("td",{children:e.renderBin(t.dataType,t.value)}),Object(l.jsx)("td",{children:t.value}),Object(l.jsx)("td",{children:t.label}),Object(l.jsx)("td",{children:e.renderType(t.dataType)})]},r)}))})]})},e.renderBin=function(e,t){return e===g.CHAR&&(t=t.charCodeAt(0)),e===g.BOOL&&(t="true"===t?1:0),k(t)},e.renderType=function(e){switch(+e){case g.INT:return"int";case g.BOOL:return"bool";case g.CHAR:return"char";case g.STRING:return"string";case g.NULL:default:return""}},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(l.jsx)(o.Consumer,{children:this.renderBody})}}]),r}(a.a.Component),D=r(81),P=r(87),_=r(82),G=r(58),M=r(10),Z=r(30),J=function e(t,r,n){Object(u.a)(this,e),this.dataType=t,this.label=r,this.value=n},K=r(53),$=Object(Z.a)("records"),q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;Object(u.a)(this,e),Object.defineProperty(this,$,{writable:!0,value:void 0}),this.size=t,this.initialize()}return Object(d.a)(e,[{key:"initialize",value:function(){for(var e=[],t=0;t<this.size;t++)e.push(new J(g.NULL,null,0));Object(M.a)(this,$)[$]=e}},{key:"records",get:function(){return Object(K.a)(Object(M.a)(this,$)[$])}},{key:"clear",value:function(){this.initialize()}},{key:"push",value:function(e){for(var t=0,r=!1,n=Object(M.a)(this,$)[$];!r&&t<n.length;){if(n[t].dataType===g.NULL){r=!0;break}t++}r?n[t]=e:n.push(e)}}]),e}(),W=Object(Z.a)("memory"),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;Object(u.a)(this,e),Object.defineProperty(this,W,{writable:!0,value:void 0}),this.size=t,this.initialize()}return Object(d.a)(e,[{key:"initialize",value:function(){Object(M.a)(this,W)[W]=Array(this.size).fill(0)}},{key:"clear",value:function(){this.initialize()}},{key:"data",get:function(){return Object(K.a)(Object(M.a)(this,W)[W])}},{key:"read",value:function(e){var t=Object(M.a)(this,W)[W];if(e>=t.length)return"";if(0===t[e])return".";for(var r=[],n=0;n+e<t.length&&0!==t[n+e];)r[n]=t[n+e],n++;return r.join("")}},{key:"alloc",value:function(e){if("string"===typeof e){var t=e.length;if(!t)return-1;var r=Object(M.a)(this,W)[W],n=this.findFreeIndex(t);if(-1===n)return-1;for(var a=0;a<t;a++)r[a+n]=e[a];return n}alert("Unable to allocate non-string value")}},{key:"findFreeIndex",value:function(e){for(var t=0,r=Object(M.a)(this,W)[W];t<this.size;){var n=t;if(0===r[t]){for(;n<this.size&&n-t<e&&0===r[n];)n++;if(n===this.size)return-1;if(n-t<e||0!==r[n]){t=n+1;continue}return t>0?t+1:t}t++}}}]),e}(),Q=Object(Z.a)("stack"),X=Object(Z.a)("heap"),ee=function(){function e(){Object(u.a)(this,e),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object(M.a)(this,Q)[Q]=new q,Object(M.a)(this,X)[X]=new Y}return Object(d.a)(e,[{key:"clear",value:function(){Object(M.a)(this,Q)[Q].clear(),Object(M.a)(this,X)[X].clear()}},{key:"declare",value:function(e,t,r){if(+e===g.CHAR&&(r=r[0]),+e!==g.STRING||-1!==(r=Object(M.a)(this,X)[X].alloc(r))){var n=new J(+e,t,r);Object(M.a)(this,Q)[Q].push(n),console.log("var declared: ",n),console.log(this.records)}else alert("failed to alloc value")}},{key:"records",get:function(){return Object(M.a)(this,Q)[Q].records}},{key:"heapData",get:function(){return Object(M.a)(this,X)[X].data}}]),e}(),te=r(59),re=r.p+"static/media/logo_memsym.482cc514.svg",ne=r(83),ae=r(80),ce=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderBody=function(t){var r=t.heapData,n=Math.floor(r.length/8),a=e.to2DimArray(r,n,8),c=Array.from(Array(8).keys()).map((function(e){return e.toString(2).padStart(3,"0")}));return Object(l.jsxs)(H.a,{bordered:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#/#"}),c.map((function(e){return Object(l.jsx)("th",{children:e},e)}))]})}),Object(l.jsx)("tbody",{children:a.map((function(t,r){return Object(l.jsx)("tr",{children:t.map((function(t,r){return e.renderCell(t,r)}))},r)}))})]})},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(l.jsx)(o.Consumer,{children:this.renderBody})}},{key:"renderCell",value:function(e,t){if(0===t)return Object(l.jsx)("td",{className:"bold",children:this.renderCellValue(e,t)},t);var r="string"===typeof e?"'".concat(e,"'"):e;return Object(l.jsx)(ne.a,{overlay:Object(l.jsx)(ae.a,{children:r}),children:Object(l.jsx)("td",{children:this.renderCellValue(e,t)},t)})}},{key:"renderCellValue",value:function(e,t){return 0===t?e.toString(2).padStart(3,"0"):("string"===typeof e&&(e=e.charCodeAt(0)),e.toString(2).padStart(8,"0"))}},{key:"to2DimArray",value:function(e,t,r){for(var n=[],a=0;a<t;a++){var c=[];c.push(a);for(var i=0;i<r;i++){var s=e[a*r+i];c.push(s)}n.push(c)}return n}}]),r}(a.a.Component),ie=new ee;var se=function(){return Object(l.jsx)(j,{memsym:ie,children:Object(l.jsxs)(D.a,{children:[Object(l.jsxs)(P.a,{bg:"dark",variant:"dark",children:[Object(l.jsxs)(P.a.Brand,{children:[Object(l.jsx)("img",{alt:"",src:re,width:"30",height:"30",className:"d-inline-block align-top"})," "," MemSym"]}),Object(l.jsxs)(P.a.Text,{children:["v",te.version]})]}),Object(l.jsxs)(_.a,{children:[Object(l.jsx)(G.a,{xs:"12",sm:"6",md:"4",lg:"3",children:Object(l.jsx)(U,{})}),Object(l.jsx)(G.a,{xs:"12",sm:"12",md:"8",lg:"5",children:Object(l.jsx)(f.a,{children:Object(l.jsxs)(f.a.Body,{children:[Object(l.jsx)(f.a.Title,{children:"Stack"}),Object(l.jsx)(V,{})]})})})]}),Object(l.jsx)(_.a,{children:Object(l.jsx)(G.a,{children:Object(l.jsx)(f.a,{children:Object(l.jsxs)(f.a.Body,{children:[Object(l.jsx)(f.a.Title,{children:"Heap"}),Object(l.jsx)(f.a.Text,{children:"hover over a cell to see the value"}),Object(l.jsx)(ce,{})]})})})})]})})},le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,90)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};r(70);i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(se,{})}),document.getElementById("root")),le()}},[[71,1,2]]]);
//# sourceMappingURL=main.c0ec9245.chunk.js.map